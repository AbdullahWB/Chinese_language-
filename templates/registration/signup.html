{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Sign Up - China's Legacy{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-2xl w-full space-y-8">
        <div>
            <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Create your account</h2>
            <p class="mt-2 text-center text-sm text-gray-600">
                Or
                <a href="{% url 'account_login' %}" class="font-medium text-red-600 hover:text-red-500">
                    sign in if you already have an account
                </a>
            </p>
        </div>

        <form class="mt-8 space-y-6" method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            {% if form.errors %}
            <div class="rounded-md bg-red-50 p-4">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <svg class="h-5 w-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h3 class="text-sm font-medium text-red-800">There were errors with your submission</h3>
                        <div class="mt-2 text-sm text-red-700">
                            <ul class="list-disc pl-5 space-y-1">
                                {% for field in form %}
                                    {% for error in field.errors %}
                                        <li>{{ field.label }}: {{ error }}</li>
                                    {% endfor %}
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}

            <div class="bg-white shadow rounded-lg p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Account Information -->
                    <div class="space-y-6">
                        <h3 class="text-lg font-medium text-gray-900">Account Information</h3>
                        
                        <!-- Username -->
                        <div>
                            <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-700">Username</label>
                            {{ form.username|as_crispy_field }}
                        </div>

                        <!-- Email -->
                        <div>
                            <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700">Email</label>
                            {{ form.email|as_crispy_field }}
                        </div>

                        <!-- Password -->
                        <div>
                            <label for="{{ form.password1.id_for_label }}" class="block text-sm font-medium text-gray-700">Password</label>
                            {{ form.password1|as_crispy_field }}
                            {% if form.password1.help_text %}
                            <p class="mt-2 text-sm text-gray-500">{{ form.password1.help_text|safe }}</p>
                            {% endif %}
                        </div>

                        <!-- Confirm Password -->
                        <div>
                            <label for="{{ form.password2.id_for_label }}" class="block text-sm font-medium text-gray-700">Confirm Password</label>
                            {{ form.password2|as_crispy_field }}
                        </div>
                    </div>

                    <!-- Personal Information -->
                    <div class="space-y-6">
                        <h3 class="text-lg font-medium text-gray-900">Personal Information</h3>
                        
                        <!-- Full Name -->
                        <div>
                            <label for="{{ form.full_name.id_for_label }}" class="block text-sm font-medium text-gray-700">Full Name</label>
                            {{ form.full_name|as_crispy_field }}
                        </div>

                        <!-- Age -->
                        <div>
                            <label for="{{ form.age.id_for_label }}" class="block text-sm font-medium text-gray-700">Age</label>
                            {{ form.age|as_crispy_field }}
                        </div>

                        <!-- Nationality -->
                        <div>
                            <label for="{{ form.nationality.id_for_label }}" class="block text-sm font-medium text-gray-700">Nationality</label>
                            {{ form.nationality|as_crispy_field }}
                        </div>

                        <!-- Phone -->
                        <div>
                            <label for="{{ form.phone.id_for_label }}" class="block text-sm font-medium text-gray-700">Phone Number</label>
                            {{ form.phone|as_crispy_field }}
                        </div>
                    </div>

                    <!-- Academic Information -->
                    <div class="space-y-6 md:col-span-2">
                        <h3 class="text-lg font-medium text-gray-900">Academic Information</h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Institute -->
                            <div>
                                <label for="{{ form.institute.id_for_label }}" class="block text-sm font-medium text-gray-700">Institute/University</label>
                                {{ form.institute|as_crispy_field }}
                            </div>

                            <!-- Field of Study -->
                            <div>
                                <label for="{{ form.university_field.id_for_label }}" class="block text-sm font-medium text-gray-700">Field of Study</label>
                                {{ form.university_field|as_crispy_field }}
                            </div>

                            <!-- Batch -->
                            <div>
                                <label for="{{ form.batch.id_for_label }}" class="block text-sm font-medium text-gray-700">Batch</label>
                                {{ form.batch|as_crispy_field }}
                            </div>

                            <!-- Student ID -->
                            <div>
                                <label for="{{ form.student_id.id_for_label }}" class="block text-sm font-medium text-gray-700">Student ID</label>
                                {{ form.student_id|as_crispy_field }}
                            </div>
                        </div>
                    </div>

                    <!-- Profile Picture -->
                    <div class="md:col-span-2">
                        <h3 class="text-lg font-medium text-gray-900 mb-4">Profile Picture</h3>
                        <div class="flex items-center space-x-6">
                            <div class="flex-shrink-0">
                                <span class="inline-block h-24 w-24 rounded-full overflow-hidden bg-gray-100">
                                    <svg class="h-full w-full text-gray-300" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
                                    </svg>
                                </span>
                            </div>
                            <div class="flex-grow">
                                <label for="{{ form.profile_picture.id_for_label }}" class="block text-sm font-medium text-gray-700">Upload a profile picture</label>
                                {{ form.profile_picture|as_crispy_field }}
                                <p class="mt-1 text-sm text-gray-500">PNG, JPG, GIF up to 10MB</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <button type="submit" class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
                    <span class="absolute left-0 inset-y-0 flex items-center pl-3">
                        <svg class="h-5 w-5 text-red-500 group-hover:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                        </svg>
                    </span>
                    Create Account
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %} 